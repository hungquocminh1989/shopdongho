if (self.CavalryLogger) { CavalryLogger.start_js(["DsRZT"]); }

__d("FunnelRegistry",[],(function(a,b,c,d,e,f){e.exports={WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_CAMPFIRE_COMPOSER_UPSELL_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_FORM_CREATION_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_HASHTAG_PROMPT_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,WWW_MISINFO_WARNING_FOOTER_FUNNEL:!0,MTOUCH_MISINFO_WARNING_FOOTER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_GROUP_ESCALATION_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_ALT_TEXT_COMPOSER_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,MESSENGER_JOB_APPLICATION_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,MERCHANT_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,GROUP_MALL_NAVIGATION_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0}}),null);
__d("DesktopHscrollUnitEventConstants",[],(function(a,b,c,d,e,f){e.exports={HSCROLL_ITEM_INSERTED_EVENT:"DesktopHScrollUnit/itemInserted",HSCROLL_ITEM_SHOWN_EVENT:"DesktopHScrollUnit/itemShown",HSCROLL_ITEM_HIDE_EVENT:"DesktopHScrollUnit/HideIndividualItem",HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:"DesktopHScrollUnit/scrollItemBeforeXout",HSCROLL_ITEM_UNHIDE_EVENT:"DesktopHScrollUnit/unhideIndividualItem",HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:"logLastAdXout",HSCROLL_PAGER_ITEM_HIDE_EVENT:"onXoutIndividualItem"}}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("FunnelAction",[],(function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==undefined&&(this.$1[j]=c),d!==undefined&&(this.$1[h]=JSON.stringify(d))}a.prototype.getData=function(){return this.$1};e.exports=a}),null);
__d("Funnel",["invariant","BinarySearch","FunnelAction","FunnelRegistry","sprintf"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="name",i="instance_id",j="start_time",k="tags",l="actions",m="sampling_rate",n="timeout_sec";c={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};d={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};var o=600;function a(a,c,d,e,f){b("FunnelRegistry")[a]===!0||g(0),this.$1=a,this.$2=c,this.$3=[],this.$4={},this.$5=d,this.$6=f,this.timeout_sec=o,this.shouldTrackFocus=!1,this.$7=e,this.devModeLogger("Started funnel")}a.prototype.addTag=function(a){typeof a==="string"||g(0);this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};a.prototype.appendAction=function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?Date.now():arguments[3],f=new(b("FunnelAction"))(a,e-this.$6,c,d),g=b("BinarySearch").leastStrictUpperBound(function(a){return this.$3[a].getData()}.bind(this),f.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(g,0,f);c?this.devModeLogger("Appended action %s with tag %s",a,c):this.devModeLogger("Appended action %s",a);this.$8=a;return this};a.prototype.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};a.prototype.getLogData=function(){__p&&__p();var a={};a[h]=this.$1;this.$2!==undefined?a[i]=this.$2:a[i]=Math.floor(Math.random()*65536);a[j]=this.$6;a[m]=this.$5;a[n]=this.timeout_sec;a[k]=[];for(var b in this.$4)this.$4[b]===!0&&a[k].push(b);if(this.$3.length>0){a[l]=[];for(var c=0;c<this.$3.length;c++)a[l].push(this.$3[c].getData())}return a};a.prototype.devModeLogger=function(){};a.prototype.getTags=function(){return this.$4};e.exports={Funnel:a,EndType:c,ActionType:d}}),null);
__d("FunnelLoggerSampler",["FunnelLoggerConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){a=g(a);return a===0?!1:Math.random()*a<1}function g(a){a=b("FunnelLoggerConfig").freq[a];a===undefined&&(a=b("FunnelLoggerConfig").freq["default"]);return a}e.exports={shouldLog:a,getSamplingRate:g}}),null);
__d("CacheStorage",["ErrorUtils","EventListener","ExecutionEnvironment","FBJSON","WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i={memory:m,localstorage:c,sessionstorage:d},j="_@_",k="3b",l="CacheStorageVersion";function a(a){"use strict";this._store=a}a.prototype.getStore=function(){"use strict";return this._store};a.prototype.keys=function(){"use strict";var a=[];for(var b=0;b<this._store.length;b++)a.push(this._store.key(b));return a};a.prototype.get=function(a){"use strict";return this._store.getItem(a)};a.prototype.set=function(a,b){"use strict";this._store.setItem(a,b)};a.prototype.remove=function(a){"use strict";this._store.removeItem(a)};a.prototype.clear=function(){"use strict";this._store.clear()};f=babelHelpers.inherits(c,a);g=f&&f.prototype;function c(){"use strict";g.constructor.call(this,b("WebStorage").getLocalStorage())}c.available=function(){"use strict";return!!b("WebStorage").getLocalStorage()};f=babelHelpers.inherits(d,a);h=f&&f.prototype;function d(){"use strict";h.constructor.call(this,b("WebStorage").getSessionStorage())}d.available=function(){"use strict";return!!b("WebStorage").getSessionStorage()};function m(){"use strict";this._store={}}m.prototype.getStore=function(){"use strict";return this._store};m.prototype.keys=function(){"use strict";return Object.keys(this._store)};m.prototype.get=function(a){"use strict";return this._store[a]===undefined?null:this._store[a]};m.prototype.set=function(a,b){"use strict";this._store[a]=b};m.prototype.remove=function(a){"use strict";a in this._store&&delete this._store[a]};m.prototype.clear=function(){"use strict";this._store={}};m.available=function(){"use strict";return!0};function n(a,c){"use strict";__p&&__p();this._exceptionMessage=null;this._key_prefix=c||"_cs_";if(a=="AUTO"||!a)for(var d in i){c=i[d];if(c.available()){a=d;break}}a&&(!i[a]||!i[a].available()?(b("ExecutionEnvironment").canUseDOM,this._backend=new m()):this._backend=new i[a]());c=this.useBrowserStorage();c&&b("EventListener").listen(window,"storage",this._onBrowserValueChanged.bind(this));a=c?this._backend.getStore().getItem(l):this._backend.getStore()[l];a!==k&&this.clear()}n.prototype.useBrowserStorage=function(){"use strict";return this._backend.getStore()===b("WebStorage").getLocalStorage()||this._backend.getStore()===b("WebStorage").getSessionStorage()};n.prototype.addValueChangeCallback=function(a){"use strict";this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(a);return{remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(a),1)}.bind(this)}};n.prototype._onBrowserValueChanged=function(a){"use strict";this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};n.prototype.keys=function(){"use strict";var a=[];b("ErrorUtils").guard(function(){if(this._backend){var b=this._backend.keys(),c=this._key_prefix.length;for(var d=0;d<b.length;d++)b[d].substr(0,c)==this._key_prefix&&a.push(b[d].substr(c))}}.bind(this),"CacheStorage")();return a};n.prototype.set=function(a,c,d){"use strict";__p&&__p();if(this._backend){var e;typeof c==="string"?e=j+c:!d?(e={__t:Date.now(),__v:c},e=b("FBJSON").stringify(e)):e=b("FBJSON").stringify(c);d=this._backend;c=this._key_prefix+a;a=!0;var f=null;while(a)try{f=null,d.set(c,e),a=!1}catch(b){f=b;var g=d.keys().length;this._evictCacheEntries();a=d.keys().length<g}if(f!==null){this._exceptionMessage=f.message;return!1}else{this._exceptionMessage=null;return!0}}this._exceptionMessage="no back end";return!1};n.prototype.getLastSetExceptionMessage=function(){"use strict";return this._exceptionMessage};n.prototype._evictCacheEntries=function(){"use strict";__p&&__p();var a=[],c=this._backend;c.keys().forEach(function(d){__p&&__p();if(d===l)return;var f=c.get(d);if(f===undefined){c.remove(d);return}if(n._hasMagicPrefix(f))return;try{f=b("FBJSON").parse(f,e.id)}catch(a){c.remove(d);return}f&&f.__t!==undefined&&f.__v!==undefined&&a.push([d,f.__t])});a.sort(function(a,b){return a[1]-b[1]});for(var d=0;d<Math.ceil(a.length/2);d++)c.remove(a[d][0])};n.prototype.get=function(a,c){"use strict";__p&&__p();var d;if(this._backend){b("ErrorUtils").applyWithGuard(function(){d=this._backend.get(this._key_prefix+a)},this,null,function(){d=null},"CacheStorage:get");if(d!==null)if(n._hasMagicPrefix(d))d=d.substr(j.length);else try{d=b("FBJSON").parse(d,e.id),d&&d.__t!==undefined&&d.__v!==undefined&&(d=d.__v)}catch(a){d=undefined}else d=undefined}d===undefined&&c!==undefined&&(d=c,this.set(a,d));return d};n.prototype.remove=function(a){"use strict";this._backend&&b("ErrorUtils").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],null,"CacheStorage:remove")};n.prototype.clear=function(){"use strict";this._backend&&(b("ErrorUtils").applyWithGuard(this._backend.clear,this._backend,null,null,null,"CacheStorage:clear"),this.useBrowserStorage()?this._backend.getStore().setItem(l,k):this._backend.getStore()[l]=k)};n.getAllStorageTypes=function(){"use strict";return Object.keys(i)};n._hasMagicPrefix=function(a){"use strict";return a.substr(0,j.length)===j};e.exports=n}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){__p&&__p();var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null,x=!1;function a(){G().set(k,y())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function y(){t=t||G().get(k)||0;return t}function z(){v||(u=G().get(l),v=!0);var a=Date.now();(!u||a-i>y())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),G().set(l,u));return u}function A(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function B(){return{locale:navigator.language}}function C(b,a,c,d,f,g,h){var i=h||Date.now();t=h?Date.now():i;a=a||p;return{name:b,time:i/1e3,module:a,obj_type:d,obj_id:f,uuid:g,extra:c}}function D(a,b,c){return C("content",null,{flags:b},null,null,a,c)}function E(a){__p&&__p();var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(D(c,1,d[1]));a.push(D(c,2,d[2]));a.push(D(c,3,d[3]))}}}function F(a){__p&&__p();E(a);if(a.length===0)return;o&&a.push(C("counters",null,m));var c=a[0].name==="time_spent_bit_array"&&b("Banzai").isEnabled("vital_navigations"),d=c?b("Banzai").VITAL:b("Banzai").BASIC,e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(C("device_status",null,B())),c||(d={delay:5e3}));e&&Math.random()<.01&&a.push(C("device_info",null,A()));if(r!==null)for(var c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===undefined)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,log_type:g,seq:s++,session_id:z()};c=G().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function G(){x||(x=!0,w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function H(b,a,c,d,f,g,h){F([C(b,a,c,d,f,g,h)])}function I(a,b){p!==b&&(n.push(C(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,I(a,b))}function f(a,b,c){H(b?"show_module":"hide_module",a,c)}function J(a){p=a}function K(){return p}function L(a){r===null&&(r=a,a!==null&&(F(n),n=[]))}e.exports={count:c,log:H,navigateTo:d,navigateWithinSession:I,toggleModule:f,setUUID:L,setNavigationModule:J,getNavigationModule:K}}),null);
__d("FunnelLogger",["invariant","Banzai","Funnel","FunnelLoggerSampler","FunnelRegistry","MarauderLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={},i=!1,j=!0;function a(a,b){C(a,b)}function c(a,b,c){C(a,c,b)}function d(a,b){a=E(a,b);return!F(a)?null:h[a]}function f(a,b){}function k(a,b,c){c===undefined?G(a,undefined,b):c&&G(a,b,c)}function l(a,b){a=E(a,b);F(a)&&(h[a].devModeLogger("Cancelled funnel"),I(a),h[a]=undefined)}function m(a,b){D(a,b)}function n(a,b,c){D(a,c,b)}function o(a,b,c){c===undefined?J(a,undefined,String(b)):J(a,Number(b),c)}function p(a,b,c){c===undefined?K(a,undefined,Boolean(b)):K(a,Number(b),c)}function q(a,b,c){c===undefined?L(a,undefined,String(b),undefined):L(a,Number(b),c,undefined)}function r(a,b,c){c===undefined?M(a,undefined,String(b),undefined):M(a,Number(b),c,undefined)}function s(a,b,c,d){d===undefined?L(a,undefined,String(c),undefined,undefined,b):L(a,Number(c),d,undefined,undefined,b)}function t(a,b,c,d){d===undefined?L(a,undefined,String(b),c):L(a,Number(b),c,d)}function u(a,b,c,d,e){e===undefined?L(a,undefined,String(c),d,undefined,b):L(a,Number(c),d,e,undefined,b)}function v(a,b,c,d){d===undefined?M(a,undefined,String(b),c):M(a,Number(b),c,d)}function w(a,b,c,d){d===undefined?L(a,undefined,String(b),undefined,c):L(a,Number(b),String(c),undefined,d)}function x(a,b,c,d,e){e===undefined?L(a,undefined,String(c),undefined,d,b):L(a,Number(c),String(d),undefined,e,b)}function y(a,b,c,d){d===undefined?M(a,undefined,String(b),undefined,c):M(a,Number(b),String(c),undefined,d)}function z(a,b,c,d,e){e===undefined?L(a,undefined,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function A(a,b,c,d,e,f){f===undefined?L(a,undefined,String(c),d,e,b):L(a,Number(c),String(d),String(e),f,b)}function B(a,b,c,d,e){e===undefined?M(a,undefined,String(b),c,d):M(a,Number(b),String(c),String(d),e)}function C(a,c,d){var e=E(a,c);S();N(e);b("FunnelLoggerSampler").shouldLog(a)&&(h[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),H(e))}function D(a,c,d){a=E(a,c);F(a)&&(h[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,undefined,d),O(a))}function E(a,c){b("FunnelRegistry")[a]===!0||g(0);if(c===undefined||c===null)return a;else return a+c.toString()}function F(a){return h[a]!==undefined}function G(a,b,c){a=E(a,b);F(a)&&(h[a].timeout_sec=c,h[a].devModeLogger("Timeout set to %s sec",c),H(a))}function H(a){I(a),h[a].timeout_handle=setTimeout(function(){h[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),O(a)},1e3*h[a].timeout_sec)}function I(a){h[a].timeout_handle&&clearTimeout(h[a].timeout_handle)}function J(a,b,c){a=E(a,b);F(a)&&(h[a].addTag(c),H(a))}function K(a,b,c){a=E(a,b);F(a)&&(h[a].shouldTrackFocus=c,h[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function L(a,b,c,d,e,f){a=E(a,b);F(a)&&(h[a].appendAction(c,d,e,f),H(a))}function M(a,b,c,d,e){a=E(a,b);F(a)&&h[a].appendActionIfNew(c,d,e)}function N(a){F(a)&&(h[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),O(a))}function O(a){if(F(a)){var c=h[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);h[a].devModeLogger("Logged: %s",JSON.stringify(c));I(a);h[a]=undefined}}function P(){for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&F(a)&&(h[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),O(a))}function Q(){if(j){j=!1;for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&F(a)&&h[a].shouldTrackFocus&&(h[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),I(a))}}function R(){if(!j){j=!0;for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&F(a)&&h[a].shouldTrackFocus&&(h[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),I(a))}}function S(){i||(i=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,P),window.addEventListener("blur",Q),window.addEventListener("focus",R)))}e.exports={startFunnel:a,startFunnelAtTime:c,startFunnel_DEV_MODE:f,setFunnelTimeout:k,setFunnelTrackFocus:p,addFunnelTag:o,appendAction:q,appendActionAtTime:s,appendActionIfNew:r,appendActionWithTag:t,appendActionAtTimeWithTag:u,appendActionWithTagIfNew:v,appendActionWithPayload:w,appendActionAtTimeWithPayload:x,appendActionWithPayloadIfNew:y,appendActionWithTagAndPayload:z,appendActionAtTimeWithTagAndPayload:A,appendActionWithTagAndPayloadIfNew:B,cancelFunnel:l,endFunnel:m,endFunnelAtTime:n,getFunnelInstance:d}}),null);
__d("SearchFunnelLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SEARCH_BOX_TAPPED:"search_box_tapped",TA_SUGGESTION_CLICKED:"ta_suggestion_clicked",SERP_INLINE_ACTION:"serp_inline_action",SERP_RESULTS_LOADED:"serp_results_loaded",SERP_RESULT_CLICKED:"serp_result_clicked",SERP_SEE_MORE_CLICKED:"serp_see_more_clicked",SERP_SCROLL_RESULTS:"serp_scroll_results",SERP_TAB_CLICKED:"serp_tab_clicked",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("SearchFunnelLogger",["BrowseWebSLRPELoggerClickType","FunnelLogger","SearchFunnelLoggerConfig","SearchFunnelLoggerEvents"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="SEARCH_FUNNEL",h=null;a={_startFunnel:function(){if(b("FunnelLogger").getFunnelInstance(g)||!b("SearchFunnelLoggerConfig").isEnabled)return;b("FunnelLogger").startFunnel(g);window.addEventListener("beforeunload",function(){return this.endFunnel()}.bind(this))},logSERPResultClick:function(a,c,d,e,f){this._appendAction(e===b("BrowseWebSLRPELoggerClickType").SEE_MORE_TAPPED?b("SearchFunnelLoggerEvents").SERP_SEE_MORE_CLICKED:b("SearchFunnelLoggerEvents").SERP_RESULT_CLICKED,{logging_unit_id:d,query:a,serp_sid:c,typeahead_sid:this.getTypeaheadID(c),client_position:f})},logSERPResultVPV:function(a,c){this._appendAction(b("SearchFunnelLoggerEvents").VIEW_PORT_VIEWS_ON_SEARCH_RESULTS,{logging_unit_id:a.unit_id,query:a.query,serp_sid:a.session_id,typeahead_sid:this.getTypeaheadID(a.session_id),client_position:a.position,item_height:c.story_height,screen_height:c.viewport_height,overall_start_time:c.vpvd_start_timestamp,overall_time_spent:c.vpvd_time_delta,focus_start_time:c.vpvd_start_timestamp,focus_time_spent:c.vpvd_time_delta})},logSERPInlineAction:function(a,c,d,e,f,g){this._appendAction(b("SearchFunnelLoggerEvents").SERP_INLINE_ACTION,{query:a,inline_action_name:f,serp_sid:c,typeahead_sid:d,logging_unit_id:e,result_type:g})},logSERPLoaded:function(a,c,d,e,f,g){h={session_id:a,typeahead_id:c},this._appendAction(b("SearchFunnelLoggerEvents").SERP_RESULTS_LOADED,{query:d,serp_sid:a,typeahead_sid:c,logging_unit_id:e,filter_type:f,entry_point_scope:g})},logTabClicked:function(a,c,d,e,f,g){this._appendAction(b("SearchFunnelLoggerEvents").SERP_TAB_CLICKED,{query:c,typeahead_sid:a,destination_serp_sid:d,serp_sid:e,destination_filter_type:f,source_filter_type:g})},logSERPScrollPagination:function(a,c,d){this._appendAction(b("SearchFunnelLoggerEvents").SERP_SCROLL_RESULTS,{query:d,serp_sid:a,typeahead_sid:c})},logSearchOpen:function(){this._appendAction(b("SearchFunnelLoggerEvents").SEARCH_BOX_TAPPED)},logTypeaheadClick:function(a,c,d,e){if(!(a.isRecent&&a.isNullState)||a.type!=="keyword")return;this._appendAction(b("SearchFunnelLoggerEvents").TA_SUGGESTION_CLICKED,{selected_text:a.text,selected_type:a.type,typeahead_sid:c,typed_query:d,last_state:e})},_appendAction:function(event){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this._startFunnel();b("FunnelLogger").appendActionWithPayload(g,event,a)},endFunnel:function(){if(!b("FunnelLogger").getFunnelInstance(g))return;b("FunnelLogger").endFunnel(g)},getTypeaheadID:function(a){return h==null||h.session_id!=a?null:h.typeahead_id}};e.exports=a}),null);
__d("BrowseClientEventLogger",["csx","Banzai","DOMQuery","SearchFunnelLogger","SearchLoggingOptions","ge","gkx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="browse_client_event_session",i="search_www_click_error",j="21.";a={logData:function(event,a,c){__p&&__p();var d=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];if(!event||!a)return;d.event=event;d.client_time=Math.floor(Date.now());d.client_time_2=Date.now()/1e3;d.session_id=a;d.vertical=c;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(a)!==-1)return;var e=d.event==="click"&&d.clicked_href!=null&&b("SearchLoggingOptions").signalLinkClicks;b("Banzai").post(h,[d],{delay:0,retry:!0,signal:e})},logClick:function(a){a.gt.event="click",this.maybeLogVisiblityEvent(a,!0),b("gkx")("AT7fx-jPihczeM0-tKa0Qqtv49c-WE3lGPusT_C-NZJB2j5Deqwxeuc_YX4XZDiu7Jwrol8_zfy5dwq2KxMZ-eYFbVL6XCDG8HvdiI_n2wP2UA")&&b("ifRequired")("FacebarTypeaheadRefreshNullstate",function(a){a.setIsNullstateStale(!0)})},maybeLogClientViewEvent:function(a){a.event="client_view",this.maybeLogVisiblityEvent(a)},maybeLogVisiblityEvent:function(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?!1:arguments[1],d=null;c&&(d=a,a=a.gt);if(!a||!a.xt||a.xt.indexOf(j)!==0){c&&b("Banzai").post(i,[d],{delay:0,retry:!0});return}var e=JSON.parse(a.xt.substring(3));c&&(e.click_type=a.click_type,e.tn=a.tn,e.clicked_href=a.clicked_href,d&&d.bt&&d.bt.ct&&(b("SearchFunnelLogger").logSERPInlineAction(e.query,e.session_id,e.typeahead_sid,e.unit_id,d.bt.ct,d.bt.result_type),d.bt.ct=="feedback"&&(e.feedback_score=d.bt.feedback_score,e.feedback_type=d.bt.feedback_type)));var event=a.event,f=this._getPositionForCurrentDOMNode(e.unit_id);e.position=f;event=="click"&&b("SearchFunnelLogger").logSERPResultClick(e.query,e.session_id,e.unit_id,e.unit_id_click_type,e.position);if(e.display_style==="context_hscroll"&&(event==="client_view"||event==="vpvd"||event==="visible"||event==="hidden"))return;if(event==="vpvd"){if(!a.ft)return;e.vpvd_time=a.ft.vpvd_time_delta;b("SearchFunnelLogger").logSERPResultVPV(e,a.ft)}this.logData(event,e.session_id,e.vertical,e)},_getPositionForCurrentDOMNode:function(a){__p&&__p();if(a==null||a==undefined)return null;var c=0,d=b("ge")("browse_result_area");if(d==null||d==undefined)return null;d=b("DOMQuery").scry(d,"._401d");for(var e=0;e<d.length;e++){var f=d[e];f=f.getAttribute("data-gt");if(f!==null||f!==undefined){f=JSON.parse(JSON.parse(f).xt.substring(3));if(f.item_type=="result"&&f.id!==""&&f.id!==null){if(f.unit_id==a)return c;c++}}}return null},logImpression:function(a){a.event="impression",this.maybeLogVisiblityEvent(a)}};e.exports=a}),null);
__d("ChannelConstants",[],(function(a,b,c,d,e,f){var g="channel/";a={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:g+"shutdown",ON_INVALID_HISTORY:g+"invalid_history",ON_CONFIG:g+"config",ON_ENTER_STATE:g+"enter_state",ON_EXIT_STATE:g+"exit_state",ATTEMPT_RECONNECT:g+"attempt_reconnect",RTI_SESSION:g+"new_rti_address",CONSOLE_LOG:g+"message:console_log",GET_RTI_SESSION_REQUEST:g+"rti_session_request",SKYWALKER:g+"skywalker",CHANNEL_ESTABLISHED:g+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,CAPABILITY_ACTIVE_ON_DESKTOP_APP:16384,FANTAIL_SERVICE:"WebchatClient",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:g+"throttled",JUMPSTART:g+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,DEFAULT_MAX_SUBSCRIPTION_FLUSH_BATCH_SIZE:300,DEFAULT_MAX_CONSECUTIVE_FLUSH_FAILURES:3,getArbiterType:function(a){return g+"message:"+a},getSkywalkerArbiterType:function(a){return g+"skywalker:"+a},getRTISkywalkerArbiterType:function(a,b){return g+"skywalker:"+a+":"+b}};e.exports=a}),null);
__d("AttachmentRelatedShareConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARTICLE_CLICK:"article_click",VIDEO_CLICK:"video_click",FBVIDEO_CLICK:"fbvideo_click",FBVIDEO_VIEW:"fbvideo_view",GAME_CLICK:"game_click",PHOTO_CLICK:"photo_click",EVENT_JOIN:"event_join",PRODUCT_CLICK:"product_click",MAP_CLICK:"map_click",ACTION_BUTTON_CLICK:"action_button_click",SHOW_FOLLOW_CLICK:"show_follow_click"})}),null);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/follow/follow_privacy/nux/log/view/",{})}),null);
__d("XPubcontentChainedSuggestionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/chained_suggestions/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:!1},friendid:{type:"Int"}})}),null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPubcontentChainedSuggestionsController"],(function(a,b,c,d,e,f){__p&&__p();var g={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function(a){b("Button").setEnabled(a,!0),b("TooltipData").remove(a)},_disable:function(a,c){b("Button").setEnabled(a,!1),c&&b("TooltipData").set(a,c)},init:function(a,c,d,e,f,h,i,j,k,l,m,n,o){__p&&__p();var p=!m&&!o,q=!(k===undefined||k===null);q&&!i&&!j&&g._disable(c,k);b("Event").listen(c,"click",function(){b("Arbiter").inform(g.SUBSCRIBED,{profile_id:e,contextID:n,suppress:!0});if(l){l.show();var a=b("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).send()}});b("Arbiter").subscribe(g.SUBSCRIBED,function(k,l){__p&&__p();if(e==l.profile_id){f||d.suppressNextMouseEnter&&d.suppressNextMouseEnter();q&&(typeof l.connected!=="undefined"&&(i=l.connected),(i||j)&&g._enable(c));l.focusOnClick!==undefined&&(p=l.focusOnClick);a.swap(p);if(h===!0&&l.chaining!==!1){k=b("XPubcontentChainedSuggestionsController").getURIBuilder().setInt("profileid",e).getURI();new(b("AsyncRequest"))().setURI(k).send()}}});b("Arbiter").subscribe(g.UNSUBSCRIBED,function(f,h){e==h.profile_id&&(a.unswap(p),d.hideFlyout&&d.hideFlyout(),q&&(typeof h.connected!=="undefined"&&(i=h.connected),!i&&!j&&g._disable(c,k)),b("Arbiter").inform("SubMenu/Reset"))})},initSubscribe:function(a,c){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.SUBSCRIBED,{profile_id:c}),0)})},initUnsubscribe:function(a,c,d){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.UNSUBSCRIBED,{profile_id:c,contextID:d}),0)})},initSubscribeMenuItem:function(a,c,d){b("CSS").hide(c),this._initMenuItem(a,c,d)},initUnsubscribeMenuItem:function(a,c,d){b("CSS").hide(a),this._initMenuItem(a,c,d)},_initMenuItem:function(a,c,d){this.initSubscribe(a,d),this.initUnsubscribe(c,d),b("Arbiter").subscribe(g.SUBSCRIBED,function(d,e){b("CSS").hide(a),b("CSS").show(c)}),b("Arbiter").subscribe(g.UNSUBSCRIBED,function(d,e){b("CSS").hide(c),b("CSS").show(a)})}};e.exports=g}),null);
__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/inline_photo_pivots_chaining/events/",{})}),null);
__d("tidyEvent",["Run"],(function(a,b,c,d,e,f){__p&&__p();var g=[];function h(){while(g.length){var a=g.shift();a&&a.remove?a.remove():a.unsubscribe()}}function i(a){var b;function c(){if(!b)return;b.apply(a,arguments);b=null;a=null}a.remove?(b=a.remove,a.remove=c):(b=a.unsubscribe,a.unsubscribe=c);return a}function a(a){g.length||b("Run").onLeave(h);if(Array.isArray(a))for(var c=0;c<a.length;c++)g.push(i(a[c]));else g.push(i(a));return a}e.exports=a}),null);
__d("EntstreamAttachmentRelatedShare",["csx","cx","Arbiter","AsyncRequest","AttachmentRelatedShareConstants","CSS","DOM","Event","SubscribeButton","XPubcontentInlinePhotoPivotsEventsController","ge","getOrCreateDOMID","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=2,j=3;a={loadSuggestedShowsPivotAttachment:function(a,c,d){var e=b("ge")(a);if(!e)return;var f=b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,g){f.unsubscribe();if(g.profile_id!==c.toString())return;b("Arbiter").inform(b("AttachmentRelatedShareConstants").SHOW_FOLLOW_CLICK,{attachment:e,pageID:c,storyID:d})})},loadRelatedAttachment:function(a,c,d){var e=null;typeof a==="string"?e=b("ge")(a):e=a;if(!e)return;var f=b("Event").listen(e,"click",function(){f.remove(),b("Arbiter").inform(b("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:e,global_share_id:c,is_right_click:!1,share_id:d})}),g=b("Event").listen(e,"mousedown",function(event){(event.which===j||event.button===i)&&(g.remove(),b("Arbiter").inform(b("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:e,global_share_id:c,is_right_click:!0}))})},loadInlineStoryPivotAttachment:function(a,c){var d=b("ge")(a);if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform(b("AttachmentRelatedShareConstants").PHOTO_CLICK,{attachment:d,storyid:c})})},loadRelatedGameAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:d,global_share_id:c})}));b("tidyEvent")(b("Event").listen(d,"mousedown",function(event){(event.which===j||event.button===i)&&b("Arbiter").inform(b("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:d,global_share_id:c})}))},loadRelatedLSCVideoAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;var e=b("Event").listen(d,"click",function(){e.remove(),b("Arbiter").inform(b("AttachmentRelatedShareConstants").VIDEO_CLICK,{attachment:d,global_share_id:c})})},loadRelatedLSCInlineVideoAttachment:function(a,c){__p&&__p();var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("Event").listen(d,"click",function(){__p&&__p();var a="^div._4-u2",e="_1d8v";a=b("DOM").scry(d,a);a=a.length===1?a[0]:null;var f=a.parentNode,g=f.previousSibling;while(!g)f=f.parentNode,g=f.previousSibling;if(!b("CSS").hasClass(g,e))var f=b("DOM").create("div",{className:e}),e=b("DOM").insertBefore(a.parentNode,f),a=e.length>=1?e[0]:null;else a=g;f=b("getOrCreateDOMID")(a);new(b("AsyncRequest"))().setURI("/ajax/flash/expand_inline.php").setData({share_id:c,target_div:f,max_width:470,max_height:264,replace_target_div:!0}).setMethod("GET").setReadOnly(!0).setRelativeTo(d.parentNode).send()})},loadRelatedEventsPivotAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").EVENT_JOIN,{attachment:d,event_id:c})}))},loadRelatedProductAttachment:function(a,c){var d=null;typeof a==="string"?d=b("ge")(a):d=a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").PRODUCT_CLICK,{attachment:d,product_id:c})}))},loadMapAttachment:function(a,c,d){a=typeof a==="string"?b("ge")(a):a;if(!a)return;var e=typeof c==="string"?b("ge")(c):c;if(!e)return;b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").MAP_CLICK,{attachment:e,story_id:d})}))},loadMapAttachmentActionButton:function(a,c){var d=typeof a==="string"?b("ge")(a):a;if(!d)return;b("tidyEvent")(b("Event").listen(d,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").ACTION_BUTTON_CLICK,{button:d,story_id:c})}))},closeButton:function(a,c){b("Event").listen(a,"click",function(){b("DOM").remove(c)})},closeButtonPhotoPivots:function(a,c,d,e){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),f={story_id:d,search_query_type:e,event:"hide"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(f).send();b("DOM").remove(c)})},seeAllLinkPhotoPivots:function(a,c,d){b("Event").listen(a,"click",function(){var a=b("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),e={story_id:c,search_query_type:d,event:"see_all"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(e).send()})},removeOldSuggestions:function(a){a=b("ge")(a);if(!a)return;var c=b("DOM").scry(a.parentNode,"._5d73");for(var a=1;a<c.length;a++)b("DOM").remove(c[a]);setTimeout(function(){b("CSS").show(c[0])},1e3)},showHiddenSuggestions:function(a){__p&&__p();var c=b("Event").listen(a,"click",function(){c.remove();var d="^._1ui8";d=b("DOM").scry(a,d);if(!d)return;b("CSS").hide(d[0]);d=d[0].previousSibling;while(d)b("CSS").show(d),d=d.previousSibling})}};e.exports=a}),null);
__d("LitestandMessages",[],(function(a,b,c,d,e,f){a=Object.freeze({NEWSFEED_LOAD:"LitestandMessages/NewsFeedLoad",LEAVE_HOME:"LitestandMessages/LeaveHome",STORIES_REQUESTED:"LitestandMessages/StoriesRequested",STORIES_INSERTED:"LitestandMessages/StoriesInserted",NEWER_STORIES_REQUESTED:"LitestandMessages/NewerStoriesRequested",NEWER_STORIES_INSERTED:"LitestandMessages/NewerStoriesInserted",NEW_STORIES_CONTAINER_CREATED:"LitestandMessages/NewStoriesContainer",RHC_RELOADED:"LitestandMessages/RHCReloaded",STREAM_LOAD_ERROR:"LitestandMessages/StreamLoadError",DUPLICATE_CURSOR_ERROR:"LitestandMessages/DuplicateCursorError",STREAM_LOAD_RETRY:"LitestandMessages/StreamLoadRetry"});e.exports=a}),null);
__d("ViewableImpressionUtils",["csx","cx","CSS"],(function(a,b,c,d,e,f,g,h){a={isHorizontallyOffscreen:function(a,c,d){var e=Math.max(c.x,0);d=Math.min(c.x+c.width,d.width);return d-e<c.width||b("CSS").matchesSelector(a,".desktop_hscroll_offscreen")}};e.exports=a}),null);
__d("VisibilityTrackingHelper",["Arbiter","DesktopHscrollUnitEventConstants","Event","getViewportDimensions"],(function(a,b,c,d,e,f){a={getEventListeners:function(a){return[b("Event").listen(document,"DOMContentLoaded",a),b("Event").listen(window,"scroll",a),b("Event").listen(window,"resize",a),b("Arbiter").subscribe(b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,a)]},getViewportInfo:function(){return b("getViewportDimensions")()}};e.exports=a}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f){__p&&__p();g.logFromViewableImpressionTracker=function(a){"use strict";var b=new g();b.subscribeToTrackerEvents(a)};g.prototype.subscribeToTrackerEvents=function(a){"use strict";this.subscriptionsHandler=new(b("SubscriptionsHandler"))(),this.subscriptionsHandler.addSubscriptions(a.addListener("full_view",this.onFullView,this))};g.prototype.onFullView=function(a){"use strict";this.$1()&&this.$2(a);a={token:a.token,fullViewType:a.fullViewType,scriptPath:b("ScriptPath").getTopViewEndpoint()};b("Banzai").post("xtrackable:full_view",a);this.$1()&&this.$3(a)};g.prototype.$1=function(){"use strict";return 0};g.prototype.$2=function(a){"use strict";!1};g.prototype.$3=function(a){"use strict";!1};function g(){"use strict"}e.exports=g}),null);
__d("AdDelayedHiddenCheckConfiguration",["AdImpressionLoggingConfig"],(function(a,b,c,d,e,f){var g=null;a={getEnabled:function(){return g===null?b("AdImpressionLoggingConfig").enableDelayedHiddenCheck:g},setEnabled:function(a){g=a}};e.exports=a}),null);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=new(b("AsyncRequest"))(a)}a.prototype.setURI=function(a){"use strict";this.$1.setURI(a);return this};a.prototype.setMethod=function(a){"use strict";this.$1.setMethod(a);return this};a.prototype.setData=function(a){"use strict";this.$1.setData(a);return this};a.prototype.setHandler=function(a){"use strict";this.$1.setHandler(a);return this};a.prototype.setPayloadHandler=function(a){"use strict";this.setHandler(function(b){return a(b.payload)});return this};a.prototype.setErrorHandler=function(a){"use strict";this.$1.setErrorHandler(a);return this};a.prototype.send=function(){"use strict";this.$1.send();return this};a.prototype.abort=function(){"use strict";this.$1.abort()};a.prototype.setReadOnly=function(a){"use strict";this.$1.setReadOnly(a);return this};a.prototype.setAllowCrossOrigin=function(a){"use strict";this.$1.setAllowCrossOrigin(a);return this};e.exports=a}),null);
__d("XConsentCookieController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/cookie/consent/",{})}),null);
__d("DeferredCookie",["Cookie","Env","SubscriptionList","XAsyncRequest","XConsentCookieController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();a={shouldAddDefaultListener:!0,defaultHandler:null,autoFlushCookies:!1,sentConsentToServer:!1,callbacks:new(b("SubscriptionList"))(),addToQueue:function(a,c,d,e,f,h,i){if(this.autoFlushCookies){f?b("Cookie").setWithoutChecksIfFirstPartyContext(a,c,d,e,i):b("Cookie").setWithoutChecks(a,c,d,e,i);return}if(g.has(a))return;g.set(a,{name:a,value:c,nMilliSecs:d,path:e,firstPartyOnly:f,secure:i});h&&this.addDefaultInteractionListener()},flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing:function(){delete b("Env").defer_cookies,g.forEach(function(a,c){a.firstPartyOnly?b("Cookie").setWithoutChecksIfFirstPartyContext(a.name,a.value,a.nMilliSecs,a.path,a.secure):b("Cookie").setWithoutChecks(a.name,a.value,a.nMilliSecs,a.path,a.secure)}),this.callbacks.fireCallbacks(),this.autoFlushCookies=!0,g=new Map(),this.removeDefaultInteractionListener()},flushAllCookies:function(){this.flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing();if(!this.sentConsentToServer){this.sentConsentToServer=!0;var a=b("XConsentCookieController").getURIBuilder().getURI();new(b("XAsyncRequest"))(a).send()}},removeDefaultInteractionListener:function(){this.defaultHandler&&(window.removeEventListener?window.removeEventListener("click",this.defaultHandler,!0):document.detachEvent&&document.detachEvent("onclick",this.defaultHandler),this.defaultHandler=null)},addDefaultInteractionListener:function(){this.shouldAddDefaultListener&&(this.shouldAddDefaultListener=!1,this.defaultHandler=this.baseInteractionHandler.bind(this),window.addEventListener?window.addEventListener("click",this.defaultHandler,!0):document.attachEvent&&document.attachEvent("onclick",this.defaultHandler))},registerCallbackOnCookieFlush:function(a){this.autoFlushCookies?a():this.callbacks.add(a)},baseInteractionHandler:function(){this.flushAllCookies()},canEmbedThirdPartyPixel:function(){return b("Env").no_cookies||b("Env").defer_cookies?!1:this.autoFlushCookies||g.size===0}};e.exports=a}),null);
__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("isOculusDotComURI",["URI"],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)oculus\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}e.exports=a}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","UserAgent","XRefererFrameController","isBonfireURI","isMessengerDotComURI","isOculusDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g={useFacebookReferer:function(a,c,d){__p&&__p();if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("Bootloader").loadModules(["BanzaiODS"],function(a){a.bumpEntityKey("defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var b=a.contentWindow.location.pathname;if(b!=="/intern/common/referer_frame.php"&&b!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;c()}var g;void 0;b("isMessengerDotComURI")(b("URI").getRequestURI())||b("isBonfireURI")(b("URI").getRequestURI())?g=b("XRefererFrameController").getURIBuilder().getURI().toString():b("isOculusDotComURI")(b("URI").getRequestURI())?g="/common/referer_frame.php":!b("lowerFacebookDomain").isValidDocumentDomain()?g="/intern/common/referer_frame.php":b("UserAgent").isBrowser("Opera")?g=b("XRefererFrameController").getURIBuilder().getURI().toString():g=b("XRefererFrameController").getURIBuilder().getURI().qualify().setProtocol("https").setSubdomain("staticxx").toString();d&&(g+="?fb_source="+d);a.onload=f;a.src=g},useFacebookRefererHtml:function(a,b,c){g.useFacebookReferer(a,function(){a.contentWindow.document.body.innerHTML=b},c)}};e.exports=g}),null);
__d("FBSiteWhiteOps",["ControlledReferer","Style","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={appendToWindow:function(a,b){g.render(a,b,window.document.body)},appendToComponent:function(a,b,c){g.render(a,b,c)},render:function(a,c,d){__p&&__p();var e;try{var e=function(){__p&&__p();var e="fbsbx-sig-iframe-detection";if(d.getElementsByClassName(e).length!==0)return{v:void 0};var f=window.document.createElement("iframe");b("Style").apply(f,{height:"1px",width:"1px",opacity:"0",position:"relative",zIndex:"-9999999"});f.id="fbsbx-sig-iframe-"+a;f.className=e;f.referrerPolicy="no-referrer";b("ControlledReferer").useFacebookReferer(f,function(){__p&&__p();f.sandbox="allow-scripts allow-same-origin";var d=new(b("URI"))("https://s.update.fbsbx.com/2/843748/analytics.html?ti="+a+"&di=facebook.com&bt="+c+"&dt=8437481520966594402012"),e=f.contentWindow.document,g="fbsbx-sig-iframe-form-"+a;e.body.innerHTML='<form method="GET" id='+g+"></form>";var h=e.getElementById(g);h.action=d.toString();d=d.getQueryData();for(var i in d)if(Object.prototype.hasOwnProperty.call(d,i)){var j=e.createElement("input");j.name=i;j.value=d[i];j.autocomplete="off";j.type="hidden";h.appendChild(j)}e.body.innerHTML+='<iframe height="100%" width="100%" onload=\'document.getElementById("'+g+"\").submit()'/>;"});d.appendChild(f)}();if(typeof e==="object")return e.v}catch(a){}}};e.exports=g}),null);
__d("FullViewType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTIRE_UNIT:1})}),null);
__d("NonBlockingIFrame",["Promise","DOM","TimeSlice"],(function(a,b,c,d,e,f){__p&&__p();var g={},h,i;function j(){var a=arguments.length<=0||arguments[0]===undefined?g:arguments[0],c=arguments.length<=1||arguments[1]===undefined?document.body:arguments[1],d,e={className:"nonBlockingIframe",width:0,height:0,frameborder:0,scrolling:"no","aria-hidden":"true"};a!==g&&(e.src=a);d=b("DOM").create("iframe",e);d.style.left="-1000px";d.style.position="absolute";b("DOM").appendContent(c,d);a===g&&(d.contentDocument.open(),d.contentDocument.close());return d}function k(){return new(b("Promise"))(function(a){h||(h=j()),h.contentDocument.readyState==="complete"?a(h):(i||(i=new(b("Promise"))(function(a){h.contentWindow.onload=b("TimeSlice").guard(function(){a(h)},"NonBlockingIFrame window.onload")})),a(i))})}a={loadImage:function(a){__p&&__p();return k().then(function(c){return new(b("Promise"))(function(d,e){var f=c.contentWindow.Image,g=new f();g.onload=b("TimeSlice").guard(function(){d(g)},"NonBlockingIFrame image.onload");g.onerror=b("TimeSlice").guard(function(){e(g)},"NonBlockingIFrame image.onerror");g.onabort=b("TimeSlice").guard(function(){e(g)},"NonBlockingIFrame image.onabort");g.src=a})})},loadIFrame:function(){var a=arguments.length<=0||arguments[0]===undefined?g:arguments[0];return k().then(function(b){b=b.contentDocument.body;return j(a,b)})}};e.exports=a}),null);
__d("PercentVisible",[],(function(a,b,c,d,e,f){e.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("VisibilityState",[],(function(a,b,c,d,e,f){"use strict";e.exports={TOP:"TOP",BOTTOM:"BOTTOM",FULL:"FULL",NULL:"NULL"}}),null);
__d("ViewableImpressionTracker",["csx","AdDelayedHiddenCheckConfiguration","AdImpressionLoggingConfig","Banzai","BrowseClientEventLogger","DataAttributeUtils","DOM","FBSiteWhiteOps","FullViewType","NonBlockingIFrame","PercentVisible","Style","URI","ViewableImpressionUtils","Visibility","VisibilityState","ge","getElementPosition","getViewportDimensions","mixInEventEmitter","randomInt"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b,c){"use strict";this.id=a,this.element=b,this.config=c,this.iframe=null,this.viewableTimeout=null,this.clearSubsequentTimeout=null,this.waitForSubsequent=!1,this.waitForLogged=!1,this.isNonViewableLogged=!1,this.isVisible=!1,this.iframeLogged=!1,this.banzaiLogged=!1,this.topLeftInViewport=!1,this.bottomRightInViewport=!1}a.prototype.getID=function(){"use strict";return this.id};a.prototype.getConfig=function(){"use strict";return this.config};a.prototype.getPercentInViewport=function(){"use strict";var a=b("getViewportDimensions")(),c=b("getElementPosition")(this.element);return this.$1(a,c)};a.prototype.$2=function(a,c){var d=arguments.length<=2||arguments[2]===undefined?0:arguments[2];if(c.x<a.width&&c.x+c.width>0&&c.y<a.height&&c.y+c.height>d&&b("Style").get(this.element,"visibility")!=="hidden"&&b("Style").get(this.element,"opacity")!=="0"){var e=Math.max(c.x,0),f=Math.min(c.x+c.width,a.width),g=Math.max(c.y,d),h=Math.min(c.y+c.height,a.height);if(c.height*c.width===0)return 100;var i=100*(f-e)*(h-g)/(c.height*c.width);return i}return 0};a.prototype.$1=function(a,c){"use strict";return this.config.require_horizontally_onscreen&&b("ViewableImpressionUtils").isHorizontallyOffscreen(this.element,c,a)?0:this.$2(a,c)};a.prototype.$3=function(a,c,d){"use strict";a=this.$2(a,c,d);if(a===0)return b("PercentVisible").NO_VISIBLE;else if(a<50)return b("PercentVisible").VISIBLE_0_PCT;else if(a<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};a.prototype.$4=function(a,c){var d=arguments.length<=2||arguments[2]===undefined?0:arguments[2],e=Math.max(c.y,d),f=Math.min(c.y+c.height,a.height),g=100*(f-e)/(a.height-d);if(g<50)return b("PercentVisible").VISIBLE_0_PCT;else if(g<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};a.prototype.$5=function(a,c){"use strict";__p&&__p();var d=0,e=b("ge")("pagelet_bluebar");e&&e.offsetHeight&&(d=e.offsetHeight+e.offsetTop);if(this.config.should_log_viewport_duration){e=this.$4(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:break}}e=this.$3(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};a.prototype.$6=function(a,c){"use strict";if(b("Style").get(this.element,"visibility")==="hidden"||b("Style").get(this.element,"opacity")==="0")return!1;var d=c.x,e=c.y,f=c.x+c.width;c=c.y+c.height;this.topLeftInViewport=this.topLeftInViewport||d>=0&&d<=a.width&&e>=0&&e<=a.height;this.bottomRightInViewport=this.bottomRightInViewport||f>=0&&f<=a.width&&c>=0&&c<=a.height;return this.topLeftInViewport&&this.bottomRightInViewport};a.prototype.$7=function(a,c){"use strict";if(this.hasEmittedFullViewEvent)return;this.$6(a,c)&&(this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:b("FullViewType").ENTIRE_UNIT}),this.hasEmittedFullViewEvent=!0)};a.prototype.$8=function(a,c){"use strict";var d=c.y;c=c.y+c.height;d=d>=0&&d<=a.height;c=c>=0&&c<=a.height;a=void 0;d&&c?a=b("VisibilityState").FULL:d?a=b("VisibilityState").TOP:c?a=b("VisibilityState").BOTTOM:a=b("VisibilityState").NULL;this.emit("viewability_debug",{tracker:this,id:this.getID(),token:this.getToken(),visibleState:a})};a.prototype.onVisible=function(event){"use strict";__p&&__p();this.isVisible=!0;var a=b("getViewportDimensions")(),c=b("getElementPosition")(this.element),d=this.$1(a,c),e=d>this.config.pixel_in_percentage;this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:d});this.config.should_log_viewability_duration&&this.$5(a,c);this.config.should_log_debug_duration&&this.$8(a,c);this.$7(a,c);if(!e){this.$9();return}this.isLogged()?this.$10():this.$11();!this.waitForLogged&&!this.isLogged()&&!(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())&&(this.waitForLogged=!0,this.viewableTimeout=setTimeout(function(){__p&&__p();this.waitForLogged=!1;if(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())return;var a=this.getPercentInViewport();a=a>this.config.pixel_in_percentage;if(!a){this.$12();return}if(b("AdDelayedHiddenCheckConfiguration").getEnabled()){a=b("AdImpressionLoggingConfig").maxHiddenCheckDelay;a=a-this.config.duration_in_ms;a<0&&(a=0);setTimeout(function(){var a=this.$13();if(a){this.$12();b("AdImpressionLoggingConfig").logForHiddenAds&&this.logImpression(1,!0,{});return}this.logImpression(1,!1,{});this.$10()}.bind(this),a)}else this.logImpression(1,!1,{}),this.$10()}.bind(this),this.config.duration_in_ms))};a.prototype.onHidden=function(){"use strict";this.emit("hidden",{id:this.getID(),token:this.getToken()}),this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged?this.logNonViewableImpression():!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible&&this.logNonViewableImpression(),this.isVisible=!1,this.waitForLogged&&(this.waitForLogged=!1,clearTimeout(this.viewableTimeout)),this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0&&(this.waitForSubsequent=!0,this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=!1,this.reset(),this.isVisible&&this.onVisible()}.bind(this),this.config.subsequent_gap_in_ms)),this.$12()};a.prototype.onRemoved=function(){"use strict";this.isVisible=!1};a.prototype.getToken=function(){"use strict";return b("DataAttributeUtils").getDataAttribute(this.element,"data-xt")};a.prototype.logImpression=function(a,c,d){"use strict";__p&&__p();if(this.isLogged())return;var e=this.getToken(),f=Math.floor(Date.now()/1e3),g=this.$14(),h=Date.now()+"_"+(b("randomInt")(0,4294967295)+1);e={xt:e,isv:a,cts:f,csp:g,hba:c,etid:h};if(b("Banzai").isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){a=this.config.vital_mode_for_ss?b("Banzai").VITAL:{};a.signal=this.config.signal_mode_for_ss;this.logWithBanzai(e,a);b("AdImpressionLoggingConfig").runBotDetection&&b("FBSiteWhiteOps").appendToComponent(h,"FACEBOOK_WEB_ADS",this.element)}else this.logWithIFrame(Object.assign(e,d))};a.prototype.logNonViewableImpression=function(){"use strict";if(this.config.nonviewableEnabled){var a=this.getToken();b("Banzai").post("xtrackable:nonviewable",{xt:a})}this.isNonViewableLogged=!0};a.prototype.isLogged=function(){"use strict";return this.iframeLogged||this.banzaiLogged};a.prototype.reset=function(){"use strict";this.iframeLogged&&(this.iframeLogged=!1),this.iframe&&(b("DOM").remove(this.iframe),this.iframe=null),this.banzaiLogged&&(this.banzaiLogged=!1),this.isNonViewableLogged=!1,this.isVisible=!1,this.waitForLogged=!1,this.waitForSubsequent=!1};a.prototype.logWithBanzai=function(a,c){"use strict";this.banzaiLogged=!0,b("BrowseClientEventLogger").maybeLogClientViewEvent(a),b("Banzai").post("xtrackable:clientview_batch",a,c)};a.prototype.logWithIFrame=function(a){"use strict";this.iframeLogged=!0,this.config.is_instream_story?b("NonBlockingIFrame").loadIFrame(new(b("URI"))(this.config.impressionURL).addQueryData(a).toString()):(this.iframe=b("DOM").create("iframe",{src:new(b("URI"))(this.config.impressionURL).addQueryData(a),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"}),this.iframe.setAttribute("aria-hidden","true"),b("DOM").appendContent(this.element,this.iframe))};a.prototype.$13=function(){"use strict";__p&&__p();if(b("AdImpressionLoggingConfig").disableActualCheck)return!1;var a=!1;if(b("AdImpressionLoggingConfig").checkWholeAdUnit){var c=b("getElementPosition")(this.element);c=c.width>0||c.height>0;a=c}c=this.element.querySelectorAll("img");if(c.length>0){var d=!1;for(var e=0;e<c.length;e++){var f=c[e];f=b("getElementPosition")(f);if(f.width>0||f.height>0){d=!0;break}}a=a||d}if(!a){f=this.element;e=0;while(f!==null){if(e++>50)break;if(f){if(f.classList.contains("hidden_elem")||f.classList.contains("holdoutAdStory")||f.classList.contains("ego_ads_holdout"))return!1;f=f.parentElement}}return!0}return!1};a.prototype.$14=function(){"use strict";__p&&__p();var a=b("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(a===null)return null;var c=this.$15();if(c===null||c.length===0)return null;var d=c.length;while(--d>=0){var e=b("DataAttributeUtils").getDataAttribute(c[d],"data-dedupekey");if(e!==null&&a===e)break}return d+1};a.prototype.$15=function(){"use strict";__p&&__p();var a=b("ge")("contentArea");if(a){var c="._5jmm";a=b("DOM").scry(a,c);return a.filter(function(a){return b("DataAttributeUtils").getDataAttribute(a,"data-dedupekey")})}else{c=b("ge")("m_newsfeed_stream");return c===null?null:c.getElementsByTagName("article")}};a.prototype.$16=function(){"use strict";return 0};a.prototype.$9=function(){"use strict";this.$16()&&(b("Style").set(this.element,"background-color","#abab9a"),b("Style").set(this.element,"outline","3px solid #abab9a"))};a.prototype.$11=function(){"use strict";this.$16()&&(b("Style").set(this.element,"background-color","#e4f70a"),b("Style").set(this.element,"outline","3px solid #e4f70a"))};a.prototype.$12=function(){"use strict";this.$16()&&(b("Style").set(this.element,"background-color",null),b("Style").set(this.element,"outline",null))};a.prototype.$10=function(){"use strict";this.$16()&&(b("Style").set(this.element,"background-color","#047515"),b("Style").set(this.element,"outline","3px solid #047515"))};b("mixInEventEmitter")(a,{visible:!0,hidden:!0,full_view:!0,viewability:!0,viewport_viewability:!0,viewability_debug:!0});e.exports=a}),null);
__d("ViewabilityDebugLogger",["Banzai","ViewableImpressionTracker","VisibilityState","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({top_enter_viewport:null,top_exit_viewport:null,bottom_enter_viewport:null,bottom_exit_viewport:null});h.logFromViewableImpressionTracker=function(a){var b=new h();b.subscribeToTrackerEvents(a)};function h(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map()}h.prototype.subscribeToTrackerEvents=function(a){a.addListener("viewability_debug",this.onView.bind(this)),a.addListener("hidden",this.onHidden.bind(this))};h.prototype.onView=function(event){__p&&__p();var a=event.id,c=event.visibleState,d=Date.now(),e=this.$1.get(a),f=this.$2.get(a);switch(c){case b("VisibilityState").TOP:this.$1.has(a)||this.$4(event,d,b("VisibilityState").TOP);if(f){c={token:f.token,start_ts:f.start_ts,event_type:g.bottom_exit_viewport,event_time:d};this.$5(c,a,b("VisibilityState").BOTTOM)}break;case b("VisibilityState").FULL:this.$3.has(a)||this.$4(event,d,b("VisibilityState").FULL);break;case b("VisibilityState").BOTTOM:this.$2.has(a)||this.$4(event,d,b("VisibilityState").BOTTOM);if(e){c={token:e.token,start_ts:e.start_ts,event_type:g.top_exit_viewport,event_time:d};this.$5(c,a,b("VisibilityState").TOP)}break;case b("VisibilityState").NULL:if(e){c={token:e.token,start_ts:e.start_ts,event_type:g.top_exit_viewport,event_time:d};this.$5(c,a,b("VisibilityState").TOP)}if(f){e={token:f.token,start_ts:f.start_ts,event_type:g.bottom_exit_viewport,event_time:d};this.$5(e,a,b("VisibilityState").BOTTOM)}}};h.prototype.onHidden=function(event){var a=event.id,c=Date.now(),d=this.$1.get(a),e=this.$2.get(a);if(d){d={token:d.token,start_ts:d.start_ts,event_type:g.top_exit_viewport,event_time:c};this.$5(d,a,b("VisibilityState").TOP)}if(e){d={token:e.token,start_ts:e.start_ts,event_type:g.bottom_exit_viewport,event_time:c};this.$5(d,a,b("VisibilityState").BOTTOM)}};h.prototype.$4=function(event,a,c){__p&&__p();var d={token:event.token,start_ts:a,event_time:a};switch(c){case b("VisibilityState").TOP:d.event_type=g.top_enter_viewport;this.$1.set(event.id,d);this.$6(d);break;case b("VisibilityState").BOTTOM:d.event_type=g.bottom_enter_viewport;this.$2.set(event.id,d);this.$6(d);break;case b("VisibilityState").FULL:this.$3.set(event.id,d);if(!this.$1.has(event.id)){c={token:d.token,start_ts:a,event_time:a,event_type:g.top_enter_viewport};this.$1.set(event.id,c);this.$6(c)}if(!this.$2.has(event.id)){c={token:d.token,start_ts:a,event_time:a,event_type:g.bottom_enter_viewport};this.$2.set(event.id,c);this.$6(c)}break}};h.prototype.$6=function(a){b("Banzai").post("xtrackable:viewability_debug",a)};h.prototype.$5=function(a,c,d){b("Banzai").post("xtrackable:viewability_debug",a);switch(d){case b("VisibilityState").BOTTOM:this.$2["delete"](c);break;case b("VisibilityState").TOP:this.$1["delete"](c);break}this.$3["delete"](c)};e.exports=h}),null);
__d("VisibilityUnitType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_UNIT:"feed_unit",VIEWPORT:"viewport"})}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","PercentVisible","ViewableImpressionTracker","VisibilityUnitType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=8e3;h.logFromViewableImpressionTracker=function(a){var b=new h();b.subscribeToTrackerEvents(a)};function h(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map()}h.prototype.subscribeToTrackerEvents=function(a){a.addListener("viewability",this.onViewable.bind(this)),a.addListener("viewport_viewability",this.onViewport.bind(this)),a.addListener("hidden",this.onHidden.bind(this))};h.prototype.onViewable=function(event){__p&&__p();var a=event.id,c=event.percentVisible,d=Date.now();void 0;var e;void 0;switch(c){case b("PercentVisible").VISIBLE_0_PCT:c=this.$1.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_0_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);c=this.$2.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));c=this.$4.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));break;case b("PercentVisible").VISIBLE_50_PCT:c=this.$1.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_0_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);c=this.$2.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_50_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);c=this.$4.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));break;case b("PercentVisible").VISIBLE_100_PCT:c=this.$1.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_0_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);c=this.$2.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_50_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);c=this.$4.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_100_PCT,d,b("VisibilityUnitType").FEED_UNIT):this.$7(c,a,d);break}};h.prototype.onViewport=function(event){__p&&__p();var a=event.id,c=event.percentVisible,d=Date.now();void 0;var e;void 0;switch(c){case b("PercentVisible").VISIBLE_0_PCT:c=this.$3.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));c=this.$5.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));break;case b("PercentVisible").VISIBLE_50_PCT:c=this.$3.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_50_PCT,d,b("VisibilityUnitType").VIEWPORT):this.$7(c,a,d);c=this.$5.get(a);c&&(e=this.$8(c,a,d,!0),this.$9(e,a));break;case b("PercentVisible").VISIBLE_100_PCT:c=this.$3.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_50_PCT,d,b("VisibilityUnitType").VIEWPORT):this.$7(c,a,d);c=this.$5.get(a);!c?this.$6(event,b("PercentVisible").VISIBLE_100_PCT,d,b("VisibilityUnitType").VIEWPORT):this.$7(c,a,d);break}};h.prototype.onHidden=function(event){var a=event.id,b=Date.now(),c=this.$1.get(a),d=this.$2.get(a),e=this.$3.get(a),f=this.$4.get(a),g=this.$5.get(a);c&&this.$9(this.$8(c,a,b,!0),a);d&&this.$9(this.$8(d,a,b,!0),a);e&&this.$9(this.$8(e,a,b,!0),a);f&&this.$9(this.$8(f,a,b,!0),a);g&&this.$9(this.$8(g,a,b,!0),a)};h.prototype.$6=function(event,a,c,d){c={token:event.token,startedTrackingTS:c,percentVisible:a,visibilityUnit:d,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(a){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(event.id,c);break;case b("PercentVisible").VISIBLE_50_PCT:d===b("VisibilityUnitType").FEED_UNIT?this.$2.set(event.id,c):this.$3.set(event.id,c);break;case b("PercentVisible").VISIBLE_100_PCT:d===b("VisibilityUnitType").FEED_UNIT?this.$4.set(event.id,c):this.$5.set(event.id,c);break}};h.prototype.$8=function(a,c,d,e){__p&&__p();d=d-a.startedTrackingTS;var f=d-a.cumulativeMs,g=a.percentVisible;f={token:a.token,startedTrackingTS:a.startedTrackingTS,percentVisible:g,visibilityUnit:a.visibilityUnit,intervalMs:f,cumulativeMs:d,segmentIdx:++a.segmentIdx};e&&(f.duration=d);switch(g){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(c,f);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$2.set(c,f):this.$3.set(c,f);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$4.set(c,f):this.$5.set(c,f);break}return f};h.prototype.$7=function(a,c,d){var e=a.intervalMs,f=d-a.startedTrackingTS-a.cumulativeMs;if(this.$10(e,f)){e=this.$8(a,c,d,!1);b("Banzai").post("xtrackable:viewability",e,b("Banzai").VITAL)}};h.prototype.$10=function(a,b){if(a>=g)return!1;if(a==0)return!0;if(a<1e3)return b>=1e3;a=a/1e3;b=b/1e3;return b>=2*a};h.prototype.$9=function(a,c){var d=a.percentVisible;switch(d){case b("PercentVisible").VISIBLE_0_PCT:this.$1["delete"](c);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$2["delete"](c):this.$3["delete"](c);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$4["delete"](c):this.$5["delete"](c);break}b("Banzai").post("xtrackable:viewability",a,b("Banzai").VITAL)};e.exports=h}),null);
__d("ViewableImpressionDurationLogger",["Banzai"],(function(a,b,c,d,e,f){"use strict";__p&&__p();g.logFromViewableImpressionTracker=function(a){var b=new g();b.subscribeToTrackerEvents(a)};function g(){this.$1=new Map()}g.prototype.subscribeToTrackerEvents=function(a){a.addListener("visible",this.onElementVisible.bind(this)),a.addListener("hidden",this.onElementHidden.bind(this))};g.prototype.onElementVisible=function(event){if(this.$1.get(event.id))return null;var a={token:event.token,startedTrackingTS:this.getTimeNow()};this.$1.set(event.id,a);return a};g.prototype.onElementHidden=function(event){var a=this.$1.get(event.id);if(!a)return!1;a.trackingDuration=this.getTimeNow()-a.startedTrackingTS;return this.sendLog(event.id)};g.prototype.sendLog=function(a){var c=this.$1.get(a);if(!c||!c.trackingDuration)return!1;b("Banzai").post("xtrackable:duration",c);this.$1["delete"](a);return!0};g.prototype.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};e.exports=g}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();g.logFromViewableImpressionTracker=function(a,b){"use strict";b=new g(b);b.subscribeToTrackerEvents(a)};function g(a){"use strict";this.loggingDurationMS=a,this.trackingEntries={}}g.prototype.subscribeToTrackerEvents=function(a){"use strict";this.visibleSubscription=a.addListener("visible",this.onElementVisible,this),this.hiddenSubscription=a.addListener("hidden",this.onElementHidden,this)};g.prototype.onElementVisible=function(a){"use strict";var b=this.getCurrentTimestamp(),c=this.trackingEntries[a.id];c||(c=this.createTrackingEntry(a),this.beginTracking(a.id,c),b=c.startedTrackingTS);c.viewportProgressEvents.push({timestamp:b,percentInViewport:a.percentInViewport.toFixed(2)})};g.prototype.onElementHidden=function(a){"use strict";var b=this.getCurrentTimestamp();a=this.trackingEntries[a.id];if(!a)return;a.viewportProgressEvents.push({timestamp:b,percentInViewport:0})};g.prototype.onTrackingCompleted=function(a){"use strict";var b=this.trackingEntries[a];b.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:b.tracker.getPercentInViewport().toFixed(2)});this.$1()&&this.$2(a,b);this.logToServer(b);delete this.trackingEntries[a]};g.prototype.logToServer=function(a){"use strict";a=a;delete a.tracker;b("Banzai").post("xtrackable:heatmap",a)};g.prototype.beginTracking=function(a,b){"use strict";this.trackingEntries[a]=b,setTimeout(function(){return this.onTrackingCompleted(a)}.bind(this),this.loggingDurationMS)};g.prototype.createTrackingEntry=function(a){"use strict";return{tracker:a.tracker,token:a.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};g.prototype.getCurrentTimestamp=function(){"use strict";return(Date.now()/1e3).toFixed(2)};g.prototype.$1=function(){"use strict";return 0};g.prototype.$2=function(a,b){"use strict";var c="Completed tracking for id "+a+" token="+b.token+" startedTrackingTS="+b.startedTrackingTS+"\n";b.viewportProgressEvents.forEach(function(a){c+="% in view: "+a.percentInViewport+" timestamp="+a.timestamp+"\n"});!1};e.exports=g}),null);
__d("VisibilityTracking",["Banzai","BrowseClientEventLogger","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","VisibilityTrackingHelper","collectDataAttributes","getElementPosition","pageID","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g="visibility_tracking",h="[data-vistracking]",i=500,j=50,k=50,l=50,m=50,n=0;function o(a){"use strict";__p&&__p();a=a||{};if(!a.bypass_banzai_check&&!b("Banzai").isEnabled(g))return;this.visibleElementInfo={};this.getDataFromConfig(a);b("Visibility").addListener(b("Visibility").VISIBLE,b("ErrorUtils").guard(function(){return this.fireEvent("browser")}.bind(this),"VisibilityTracking:visible",this));b("Visibility").addListener(b("Visibility").HIDDEN,b("ErrorUtils").guard(function(){return this.clearAllVisibleElements("browser")}.bind(this),"VisibilityTracking:hidden",this));b("ScriptPath").subscribe(b("ErrorUtils").guard(function(){return this.updateVisibleElements()}.bind(this),"VisibilityTracking:scriptPath",this));b("Banzai").subscribe(b("Banzai").SHUTDOWN,b("ErrorUtils").guard(function(){return this.onUnload()}.bind(this),"VisibilityTracking:banzaiShutdown",this));this.fireEventCallback=b("throttle").acrossTransitions(b("ErrorUtils").guard(function(event){return this.fireEvent(event)}.bind(this),"VisibilityTracking:fireEventCallback",this),this.timeout,this);this.listeners=new(b("SubscriptionsHandler"))();b("VisibilityTrackingHelper").getEventListeners(function(){return this.fireEventCallback()}.bind(this)).forEach(function(a){this.listeners.addSubscriptions(a)},this);this.extraInit&&b("ErrorUtils").applyWithGuard(this.extraInit.bind(this))}o.prototype.getDataFromConfig=function(a){"use strict";this.config=a,this.root=a.root||document.documentElement,this.selector=a.selector||h,this.visibleEventCallBack=a.visibleEventCallBack||function(){},this.timeout=a.timeout!==undefined?a.timeout:i,this.minOffsetVisibleFromBottom=a.minOffsetVisibleFromBottom!==undefined?a.minOffsetVisibleFromBottom:j,this.minOffsetVisibleFromTop=a.minOffsetVisibleFromTop!==undefined?a.minOffsetVisibleFromTop:k,this.minOffsetVisibleFromLeft=a.minOffsetVisibleFromLeft!==undefined?a.minOffsetVisibleFromLeft:l,this.minOffsetVisibleFromRight=a.minOffsetVisibleFromRight!==undefined?a.minOffsetVisibleFromRight:m,this.handleAllHiddenEvents=a.handleAllHiddenEvents!==undefined?a.handleAllHiddenEvents:!1,this.handleAllVisibleEvents=a.handleAllVisibleEvents!==undefined?a.handleAllVisibleEvents:!1,this.cacheTrackedElements=a.cacheTrackedElements!==undefined?a.cacheTrackedElements:!1};o.prototype.getAllTrackedElements=function(){"use strict";__p&&__p();if(!this.allTrackedElements){this.allTrackedElements={};var a=[];this.config.is_xtrackable?a=b("DataAttributeUtils").getXTrackableElements():this.root&&this.root.querySelectorAll&&(a=this.root.querySelectorAll(this.selector));for(var c=0;c<a.length;c++){var d=this.getElementID(a[c]);this.allTrackedElements[d.toString()]=a[c]}}return this.allTrackedElements};o.prototype.refreshAllTrackedElements=function(){"use strict";delete this.allTrackedElements;return this.getAllTrackedElements()};o.prototype.getDataToLog=function(a){"use strict";a=Object.assign(b("collectDataAttributes")(a,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:b("pageID"),script_path:b("ScriptPath").getScriptPath()});return a};o.prototype.getElementID=function(a){"use strict";var b=a.$1;if(b)return b;a.$1=++n;return n};o.prototype.sendDataToLog=function(a){"use strict";b("BrowseClientEventLogger").maybeLogVisiblityEvent(a),b("Banzai").post(g,a)};o.prototype.isInstreamAdStoryElement=function(a){"use strict";return!1};o.prototype.fireEvent=function(){var a=arguments.length<=0||arguments[0]===undefined?"default":arguments[0],c=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var d in c){var e=c[d],f=b("VisibilityTrackingHelper").getViewportInfo(),g=this.isVisible(e,f);!g&&(d in this.visibleElementInfo||this.handleAllHiddenEvents)?this.handleEvent(e,{name:"hidden",cause:a}):g&&(!(d in this.visibleElementInfo)||this.handleAllVisibleEvents)&&this.handleEvent(e,{name:"visible",cause:a})}this.clearUntrackedVisibleElements()};o.prototype.isVisible=function(a,c){"use strict";if(a==null)return!1;a=b("getElementPosition")(a);return a.y+a.height>=this.minOffsetVisibleFromTop&&a.y<=c.height-this.minOffsetVisibleFromBottom&&a.x+a.width>=this.minOffsetVisibleFromLeft&&a.x<=c.width-this.minOffsetVisibleFromRight};o.prototype.handleEvent=function(a,event){"use strict";__p&&__p();var c=this.getElementID(a).toString(),d=this.getDataToLog(a),e=void 0;if(event.name==="visible"){var f=Math.floor(Date.now()/1e3);e=b("pageID").concat(":",f.toString(),":",this.getElementID(a).toString());this.visibleElementInfo[c]={visibility_id:e,elem:a}}else if(event.name==="hidden"){c in this.visibleElementInfo&&(e=this.visibleElementInfo[c].visibility_id,delete this.visibleElementInfo[c]);if(event.cause==="browser")return}this.sendDataToLog(Object.assign(d,{event:event.name,visibility_id:e}))};o.prototype.clearUntrackedVisibleElements=function(){"use strict";var a=this.getAllTrackedElements();for(var b in this.visibleElementInfo)if(!(b in a)){var c=this.visibleElementInfo[b];c.elem&&this.handleEvent(c.elem,{name:"hidden",cause:"removed"})}};o.prototype.clearAllVisibleElements=function(){var a=arguments.length<=0||arguments[0]===undefined?"default":arguments[0],b=this.getAllTrackedElements();for(var c in b)c in this.visibleElementInfo&&this.handleEvent(b[c],{name:"hidden",cause:a});this.clearUntrackedVisibleElements()};o.prototype.updateVisibleElements=function(){"use strict";this.clearAllVisibleElements(),this.fireEvent()};o.prototype.refreshAndFireEvent=function(event){"use strict";this.refreshAllTrackedElements(),this.fireEventCallback(event)};o.prototype.onUnload=function(){"use strict";this.clearAllVisibleElements(),this.listeners&&(this.listeners.release(),this.listeners=null),this.extraCleanup&&b("ErrorUtils").applyWithGuard(this.extraCleanup.bind(this))};o.init=function(a){"use strict";return new o(a)};e.exports=o}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDebugLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=1;g=babelHelpers.inherits(a,b("VisibilityTracking"));h=g&&g.prototype;a.prototype.extraInit=function(){this.impressionTrackers={}};a.prototype.getDataFromConfig=function(a){h.getDataFromConfig.call(this,a),this.doHeatmapLogging=a.doHeatmapLogging,this.heatmapLoggingDurationMS=a.heatmapLoggingDurationMS,a.impressionURL=a.impressionURL!==undefined?a.impressionURL:"/xti.php",a.nonviewableEnabled=a.nonviewableEnabled!==undefined?a.nonviewableEnabled:!1};a.prototype.getImpressionTracking=function(a){__p&&__p();var c=this.getElementID(a),d=this.impressionTrackers[c];if(!d){var e=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);d=new(b("ViewableImpressionTracker"))(c,a,e);this.impressionTrackers[c]=d;e.log_impression_duration&&b("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(d);this.doHeatmapLogging&&b("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(d,this.heatmapLoggingDurationMS);e.should_log_full_views&&b("FullViewLogger").logFromViewableImpressionTracker(d);e.should_log_viewability_duration&&b("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(d);e.should_log_debug_duration&&b("ViewabilityDebugLogger").logFromViewableImpressionTracker(d)}return d};a.prototype.handleEvent=function(a,event){var b=this.getImpressionTracking(a);if(!b)return;if(event.name==="visible")b.onVisible(event),this.visibleElementInfo[b.getID()]||(this.visibleElementInfo[b.getID()]={elem:a});else if(event.name==="hidden"){a=b.getConfig();event.cause==="default"||a.log_visibility_hidden_when_browser_inactive&&event.cause==="browser"?(b.onHidden(),delete this.visibleElementInfo[b.getID()]):event.cause==="removed"&&(b.onRemoved(),delete this.visibleElementInfo[b.getID()],delete this.impressionTrackers[b.getID()])}};a.prototype.isInstreamAdStoryElement=function(a){a=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);return!!a.is_instream_story};a.prototype.getConfigFromElement=function(a){return JSON.parse(b("DataAttributeUtils").getDataAttribute(a,"data-xt-vimp"))};a.prototype.getElementID=function(a){a.getAttribute("id")||a.setAttribute("id","xt_uniq_"+i++);return a.getAttribute("id")};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ViewableImpressionTracking",["Arbiter","DesktopHscrollUnitEventConstants","ErrorUtils","LitestandMessages","Run","ViewableImpressionEventHandler","ViewableImpressionConfig"],(function(a,b,c,d,e,f){a={init:function(){b("ViewableImpressionEventHandler").instance===undefined&&(b("ViewableImpressionEventHandler").instance=new(b("ViewableImpressionEventHandler"))(b("ViewableImpressionConfig")),b("ViewableImpressionEventHandler").instance.listeners.addSubscriptions(b("Arbiter").subscribe([b("LitestandMessages").STORIES_INSERTED,"AdsRefreshHandler/AdsLoaded","MPPInsights/ChartView","PhotoSnowliftAds/displayUnits","WebMessengerAdsControl/adjustAds",b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_INSERTED_EVENT,"WebVideoChannelAds/AdsLoaded"],b("ErrorUtils").guard(function(event){b("ViewableImpressionEventHandler").instance.refreshAndFireEvent(event)},"ViewableImpressionTracking")))),b("Run").onLoad(function(){b("ViewableImpressionEventHandler").instance.refreshAndFireEvent()})}};e.exports=a}),null);
__d("UserActivity",["Arbiter","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3,h=500,i=-5,j=Date.now(),k=j,l=!1,m=Date.now(),n=document.hasFocus?document.hasFocus():!0,o=0,p=Date.now(),q=-1,r=-1,s={EVENT_INTERVAL_MS:h,subscribeOnce:function(a){var b=s.subscribe(function(c,d){s.unsubscribe(b),a(d)});return b},subscribe:function(a){return b("Arbiter").subscribe("useractivity/activity",a)},unsubscribe:function(a){a.unsubscribe()},isActive:function(a){return new Date()-j<(a||g)},isOnTab:function(){return n},hasBeenInactive:function(){return l},resetActiveStatus:function(){n=!0,l=!1},getLastInActiveEnds:function(){return m},getLastActive:function(){return j},setIdleTime:function(a){o=a},getLastLeaveTime:function(){return p},getLastInformTime:function(){return k},reset:function(){j=Date.now(),k=j,l=!1,m=Date.now(),n=document.hasFocus?document.hasFocus():!0,o=0,p=Date.now(),q=-1,r=-1}};function t(event){__p&&__p();var c=a.MouseEvent;if(c&&event instanceof c){if(event.pageX==q&&event.pageY==r&&event.type!="click")return;q=event.pageX;r=event.pageY}j=Date.now();c=j-k;c>h?(k=j,n||(p=j),c>=(o||g)&&(l=!0,m=j),b("Arbiter").inform("useractivity/activity",{event:event,idleness:c,last_inform:k})):c<i&&(k=j)}function c(event){n=!0,m=Date.now(),t(event)}function d(event){n=!1,l=!0,p=Date.now()}b("Event").listen(window,"scroll",t);b("Event").listen(window,"focus",c);b("Event").listen(window,"blur",d);b("Event").listen(document.documentElement,{DOMMouseScroll:t,mousewheel:t,keydown:t,mouseover:t,mousemove:t,click:t},undefined,undefined,{passive:!0});b("Arbiter").subscribe("Event/stop",function(a,b){t(b.event)});e.exports=s}),null);
__d("PluginTabLoadMore",["CSS","Event"],(function(a,b,c,d,e,f){"use strict";a={noMoreContent:function(){b("Event").fire(this.root,"noMoreContent"),b("CSS").hide(this.spinner)},setCursor:function(a){b("Event").fire(this.root,"setCursor",a)},init:function(a,b){this.root=a,this.spinner=b}};e.exports=a}),null);
__d("Network",["mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=!0,h=a.navigator.connection,i={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"};function c(){return g}function d(a){if(a==g)return;g=a;l.emit(a?"online":"offline")}function f(){return h?h.bandwidth:g?Infinity:0}function j(){return h?h.metered:!1}function k(){var a=h?String(h.type):"0";return i[a]||a}var l={getBandwidth:f,getType:k,isMetered:j,isOnline:c,setOnline:d};b("mixInEventEmitter")(l,{online:!0,offline:!0});a.addEventListener?(a.addEventListener("online",d.bind(null,!0)),a.addEventListener("offline",d.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",d.bind(null,!0)),a.attachEvent("offline",d.bind(null,!1)));e.exports=l}),null);
__d("ServerTime",["InitialServerTime"],(function(a,b,c,d,e,f){d(b("InitialServerTime").serverTime);var g;function a(){return Date.now()-g}function c(){return g}function d(a){g=Date.now()-a}e.exports={getMillis:a,getOffsetMillis:c,update:d,get:a,getSkew:c}}),null);
__d("uuid",[],(function(a,b,c,d,e,f){function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}e.exports=a}),null);
__d("DOMContainer.react",["invariant","React","ReactDOM","isNode"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getDOMChild=function(){"use strict";var a=this.props.children;b("isNode")(a)||g(0);return a};a.prototype.shouldComponentUpdate=function(a){"use strict";return a.children!==this.props.children};a.prototype.componentDidMount=function(){"use strict";b("ReactDOM").findDOMNode(this).appendChild(this.getDOMChild())};a.prototype.componentDidUpdate=function(){"use strict";var a=b("ReactDOM").findDOMNode(this);while(a.lastChild)a.removeChild(a.lastChild);a.appendChild(this.getDOMChild())};a.prototype.render=function(){"use strict";var a=this.props,c=a.display,d=a.containerRef;a=babelHelpers.objectWithoutProperties(a,["display","containerRef"]);return c==="block"?b("React").createElement("div",babelHelpers["extends"]({},a,{ref:d}),undefined):b("React").createElement("span",babelHelpers["extends"]({},a,{ref:d}),undefined)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={display:c.oneOf(["inline","block"]),containerRef:c.func};a.defaultProps={display:"inline"};e.exports=a}),18);
__d("cssVar",[],(function(a,b,c,d,e,f){function a(a){throw new Error('cssVar("'+a+'"): Unexpected class transformation.')}e.exports=a}),18);